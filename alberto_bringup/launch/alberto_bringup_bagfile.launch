<launch>
    <arg name="model" default="$(env TURTLEBOT3_MODEL)" doc="model type [burger, waffle, waffle_pi]"/>
    <arg name="x_pos" default="-1.5"/>
    <arg name="y_pos" default="-4.0"/>
    <arg name="z_pos" default="0.0"/>

    <!-- Upload robot description xacro to the ros param -->
    <param name="robot_description" command="$(find xacro)/xacro --inorder $(find alberto_description)/urdf/alberto.urdf.xacro" />
    
    <!-- Uses bagfile time -->
    <param name="/use_sim_time" value="true"/>
    
    <!-- Read bagfile in loop -->
    <arg name="bag_file_name" value="bertinho"/>
    <node pkg="rosbag" type="play" name="rosbag_play" output="screen" args="--clock $(find alberto_vision)/bagfiles/$(arg bag_file_name).bag"/>
        
    <!-- Launch robot state publisher to get tf from joint_state -->
    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher"/>

    <!-- Launch real time detection file -->
    <node pkg="alberto_vision" name="get_camera_footage" type="alberto_real_time_detection.py" output="screen"/>

</launch>